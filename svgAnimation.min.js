!function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var n=function(e){var n=this;n.options=t({},n.options),t(n.options,e),n.init()};n.prototype={constructor:n,options:{data:null,canvas:null,svg:null,duration:null,steps:null},init:function(){var e=this;e.loadJSON(e.options.data,function(t){e.loadSVG(e.options.canvas,e.options.svg,t.animations,e.options.duration/e.options.steps)})},loadJSON:function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);t&&"function"==typeof t&&t(e)}},n.send(null)},loadSVG:function(e,t,n,s){var i=this;Snap.load(t,function(t){e.append(t),n.forEach(function(t){var n=e.select(t.id);i.createTransformGroup(n),t.keyframes.translateKeyframes&&new o({element:n.select(".translate"),keyframes:t.keyframes.translateKeyframes,duration:s}),t.keyframes.rotateKeyframes&&new o({element:n.select(".rotate"),keyframes:t.keyframes.rotateKeyframes,duration:s}),t.keyframes.scaleKeyframes&&new o({element:n.select(".scale"),keyframes:t.keyframes.scaleKeyframes,duration:s})})})},createTransformGroup:function(e){if(e.node){var t=document.createElementNS("http://www.w3.org/2000/svg","g"),n=document.createElementNS("http://www.w3.org/2000/svg","g"),o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("class","scale"),n.setAttribute("class","rotate"),t.setAttribute("class","translate");for(var s=0;s<e.node.childNodes.length;s++)o.appendChild(e.node.childNodes[s].cloneNode());for(;e.node.hasChildNodes();)e.node.removeChild(e.node.lastChild);e.node.appendChild(t).appendChild(n).appendChild(o)}}};var o=function(e){var n=this;n.options=t({},n.options),t(n.options,e),n.init()};o.prototype={constructor:o,options:{element:null,type:null,keyframes:null,duration:null,originX:null,originY:null},init:function(){var e=this;e.options.type=e.options.element.node.getAttributeNode("class").value;var t=e.options.element.getBBox();e.options.originX=e.options.keyframes[0].cx?e.getOriginX(t,e.options.keyframes[0].cx):e.getOriginX(t,"center"),e.options.originY=e.options.keyframes[0].cy?e.getOriginY(t,e.options.keyframes[0].cy):e.getOriginY(t,"center"),e.resetTween(e.options.element,e.options.type,e.options.keyframes,e.options.originX,e.options.originY),e.playTween(e.options.element,e.options.type,e.options.keyframes,e.options.originX,e.options.originY,e.options.duration,0)},playTween:function(e,t,n,o,s,i,a){var r,l,p,c,u,f,d,m,y=this;"translate"===t?(l=n[a].x,p=n[a].y,r="T "+l+" "+p):"rotate"===t?(c=n[a].angle,r="R "+c+" "+o+" "+s):"scale"===t&&(u=n[a].x,f=n[a].y,r="S "+u+" "+f+" "+o+" "+s),d=a?(n[a].step-n[a-1].step)*i:n[a].step*i,m=mina[n[a].easing],0===a&&0===n[a].step?y.playTween(e,t,n,o,s,i,a+1):0===a&&0!==n[a].step?setTimeout(function(){a!==n.length-1&&y.playTween(e,t,n,o,s,i,a+1)},d):e.animate({transform:r},d,m,function(){a!==n.length-1&&y.playTween(e,t,n,o,s,i,a+1)})},resetTween:function(e,t,n,o,s){var i,a,r,l,p,c;"translate"===t?(a=n[0].x,r=n[0].y,i="T "+a+" "+r):"rotate"===t?(l=n[0].angle,i="R "+l+" "+o+" "+s):"scale"===t&&(p=n[0].x,c=n[0].y,i="S "+p+" "+c+" "+o+" "+s),e.transform(i)},getOriginX:function(e,t){return"left"===t?e.x:"center"===t?e.cx:"right"===t?e.x2:void 0},getOriginY:function(e,t){return"top"===t?e.y:"center"===t?e.cy:"bottom"===t?e.y2:void 0}},e.svgAnimation=n,e.svgTween=o}(window);